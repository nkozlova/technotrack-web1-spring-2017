{% extends "core/base.html" %}
{% load static %}

{% block extra %}
    <link rel="stylesheet" href="{% static "blogs/blogs.css" %}">
{% endblock %}

<div class="content">
    {% block content %}
        <nav>
            <a href="{% url "blogs:blog" pk=object.blog.id %}">Вернуться к блогу</a><br>

            {% if object.author == user %}
                <a href="{% url "blogs:edit_post" pk=post.id %}">Редактировать пост</a>
                <br><br>
            {% endif %}
        </nav>


        <section>
            <article><strong>{{ object.title }}</strong></article>


            <strong>Автор: </strong><i>{{ object.author }}</i>
            <p>{{ object.text }}</p>
            <p></p>

            {% if user.is_authenticated %}
                <p><a href="{% url "comments:create_comment" pk=object.id %}">Создать новый комментарий</a></p>
                <p></p>
            {% endif %}

            {% if object.comment_set.all %}
                <header><strong>Комментарии данного поста:</strong></header><p></p>
                    {% for comment in object.comment_set.all %}
                        <div class="blogdiv">
                            <strong>Автор: </strong><i>{{ comment.author }}</i><p></p>
                            {{ comment.text }}
                            <p></p>
                        </div>
                    {% endfor %}
                {% else %}
                    <header><strong>Комментариев пока нет</strong></header>
                {% endif %}
        </section>
    {% endblock %}
</div>